<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2145px" preserveAspectRatio="none" style="width:1062px;height:2145px;background:#FFFFFF;" version="1.1" viewBox="0 0 1062 2145" width="1062px" zoomAndPan="magnify"><defs><filter height="1" id="bu8rnqkan43ui0" width="1" x="0" y="0"><feFlood flood-color="#E9F7EF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="bu8rnqkan43ui1" width="1" x="0" y="0"><feFlood flood-color="#F4ECF7" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="bu8rnqkan43ui2" width="1" x="0" y="0"><feFlood flood-color="#FEFECE" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><rect fill="#DDDDDD" height="82.4375" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="113" x="473.375" y="18"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="88" x="479.375" y="38.5332">Colors legend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="571.375" y="38.5332">:</text><ellipse cx="484.875" cy="51.7188" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" filter="url(#bu8rnqkan43ui0)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="492.375" y="56.1426">Common API</text><ellipse cx="484.875" cy="69.3281" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" filter="url(#bu8rnqkan43ui1)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="492.375" y="73.752">Plugin Xxx API</text><ellipse cx="484.875" cy="86.9375" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" filter="url(#bu8rnqkan43ui2)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="492.375" y="91.3613">Plugin API</text><ellipse cx="628.25" cy="119.4375" fill="#000000" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><polygon fill="#EBF5FB" points="539.25,149.4375,717.25,149.4375,729.25,179.625,717.25,209.8125,539.25,209.8125,527.25,179.625,539.25,149.4375" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="542.25" y="161.8945"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="172" x="539.25" y="176.9883">Does the plugin have to provide</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="178" x="539.25" y="192.082">a reader allocation mechanism?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="542.25" y="207.1758"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="508.25" y="176.9883">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="729.25" y="176.9883">no</text><rect fill="#F8F9F9" height="194.8906" rx="3" ry="3" style="stroke:#000000;stroke-width:2.0;" width="211" x="272.75" y="219.8125"/><path d="M426.75,219.8125 L426.75,230.4219 L416.75,240.4219 L272.75,240.4219 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="283.75" y="235.3457">Plugin factory object</text><rect fill="#E9F7EF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="191" x="282.75" y="257.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="171" x="292.75" y="279.8789">KeyplePluginExtensionFactory</text><rect fill="#F4ECF7" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="164" x="296.25" y="312.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="306.25" y="334.9727">specific</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="99" x="351.25" y="334.9727">XxxPluginFactory</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="140" x="308.25" y="367.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="120" x="318.25" y="390.0664">PoolPluginFactorySpi</text><rect fill="#F8F9F9" height="202.8906" rx="3" ry="3" style="stroke:#000000;stroke-width:2.0;" width="169" x="293.75" y="424.7031"/><path d="M400.75,424.7031 L400.75,435.3125 L390.75,445.3125 L293.75,445.3125 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="304.75" y="440.2363">Plugin object</text><rect fill="#E9F7EF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="149" x="303.75" y="462.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="129" x="313.75" y="484.7695">KeyplePluginExtension</text><rect fill="#F4ECF7" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="122" x="317.25" y="517.4063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="327.25" y="539.8633">specific</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="57" x="372.25" y="539.8633">XxxPlugin</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="98" x="329.25" y="572.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="78" x="339.25" y="594.957">PoolPluginSpi</text><rect fill="#F8F9F9" height="194.8906" rx="3" ry="3" style="stroke:#000000;stroke-width:2.0;" width="211" x="772.75" y="219.8125"/><path d="M926.75,219.8125 L926.75,230.4219 L916.75,240.4219 L772.75,240.4219 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="783.75" y="235.3457">Plugin factory object</text><rect fill="#E9F7EF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="191" x="782.75" y="257.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="171" x="792.75" y="279.8789">KeyplePluginExtensionFactory</text><rect fill="#F4ECF7" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="164" x="796.25" y="312.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="806.25" y="334.9727">specific</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="99" x="851.25" y="334.9727">XxxPluginFactory</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="115" x="820.75" y="367.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="95" x="830.75" y="390.0664">PluginFactorySpi</text><rect fill="#F8F9F9" height="374.3594" rx="3" ry="3" style="stroke:#000000;stroke-width:2.0;" width="548" x="503.75" y="424.7031"/><path d="M610.75,424.7031 L610.75,435.3125 L600.75,445.3125 L503.75,445.3125 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="514.75" y="440.2363">Plugin object</text><rect fill="#E9F7EF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="149" x="803.75" y="462.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="129" x="813.75" y="484.7695">KeyplePluginExtension</text><rect fill="#F4ECF7" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="122" x="817.25" y="517.4063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="827.25" y="539.8633">specific</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="57" x="872.25" y="539.8633">XxxPlugin</text><polygon fill="#EBF5FB" points="809.75,572.5,946.75,572.5,958.75,584.5,946.75,596.5,809.75,596.5,797.75,584.5,809.75,572.5" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="137" x="809.75" y="589.4102">Is the reader removable?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="778.75" y="581.8633">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="958.75" y="581.8633">no</text><polygon fill="#EBF5FB" points="660.75,606.5,845.75,606.5,857.75,644.2344,845.75,681.9688,660.75,681.9688,648.75,644.2344,660.75,606.5" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="663.75" y="618.957"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116" x="660.75" y="634.0508">Does the plugin work</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="166" x="660.75" y="649.1445">autonomously to detect reader</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="185" x="660.75" y="664.2383">connections and disconnections?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="663.75" y="679.332"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="629.75" y="641.5977">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="857.75" y="641.5977">no</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="210" x="533.75" y="691.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="190" x="543.75" y="714.4258">AutonomousObservablePluginSpi</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="138" x="798.75" y="691.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="118" x="808.75" y="714.4258">ObservablePluginSpi</text><polygon fill="#EBF5FB" points="753.25,733.0625,765.25,745.0625,753.25,757.0625,741.25,745.0625,753.25,733.0625" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="73" x="966.75" y="606.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="53" x="976.75" y="628.957">PluginSpi</text><polygon fill="#EBF5FB" points="878.25,763.0625,890.25,775.0625,878.25,787.0625,866.25,775.0625,878.25,763.0625" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#EBF5FB" points="628.25,805.0625,640.25,817.0625,628.25,829.0625,616.25,817.0625,628.25,805.0625" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#F8F9F9" height="1253.5156" rx="3" ry="3" style="stroke:#000000;stroke-width:2.0;" width="862.375" x="11" y="839.0625"/><path d="M126,839.0625 L126,849.6719 L116,859.6719 L11,859.6719 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="22" y="854.5957">Reader object</text><rect fill="#E9F7EF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="155" x="550.75" y="876.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="135" x="560.75" y="899.1289">KeypleReaderExtension</text><rect fill="#F4ECF7" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="128" x="564.25" y="931.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="574.25" y="954.2227">specific</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="63" x="619.25" y="954.2227">XxxReader</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="151" x="552.75" y="1036.4063"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="131" x="562.75" y="1058.8633">ConfigurableReaderSpi</text><polygon fill="#EBF5FB" points="512.75,986.8594,743.75,986.8594,755.75,998.8594,743.75,1010.8594,512.75,1010.8594,500.75,998.8594,512.75,986.8594" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="632.25" y="1023.3164">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="231" x="512.75" y="1003.7695">Can the reader handle multiple protocols?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="755.75" y="996.2227">no</text><polygon fill="#EBF5FB" points="628.25,1091.5,640.25,1103.5,628.25,1115.5,616.25,1103.5,628.25,1091.5" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="204" x="526.25" y="1185.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="184" x="536.25" y="1207.5039">AutonomousSelectionReaderSpi</text><polygon fill="#EBF5FB" points="447.75,1135.5,808.75,1135.5,820.75,1147.5,808.75,1159.5,447.75,1159.5,435.75,1147.5,447.75,1135.5" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="632.25" y="1171.957">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="361" x="447.75" y="1152.4102">Is the reader autonomous to open a logical channel with the card?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="820.75" y="1144.8633">no</text><polygon fill="#EBF5FB" points="628.25,1240.1406,640.25,1252.1406,628.25,1264.1406,616.25,1252.1406,628.25,1240.1406" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#EBF5FB" points="565.75,1284.1406,690.75,1284.1406,702.75,1296.1406,690.75,1308.1406,565.75,1308.1406,553.75,1296.1406,565.75,1284.1406" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="125" x="565.75" y="1301.0508">Is the card removable?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="534.75" y="1293.5039">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="702.75" y="1293.5039">no</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="144" x="370.625" y="1318.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="124" x="380.625" y="1340.5977">ObservableReaderSpi</text><polygon fill="#EBF5FB" points="343.125,1373.2344,542.125,1373.2344,554.125,1403.4219,542.125,1433.6094,343.125,1433.6094,331.125,1403.4219,343.125,1373.2344" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="346.125" y="1385.6914"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="199" x="343.125" y="1400.7852">Does the reader work autonomously</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="343.125" y="1415.8789">to detect card insertions?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="346.125" y="1430.9727"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="312.125" y="1400.7852">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="554.125" y="1400.7852">no</text><polygon fill="#EBF5FB" points="190.75,1443.6094,325.75,1443.6094,337.75,1481.3438,325.75,1519.0781,190.75,1519.0781,178.75,1481.3438,190.75,1443.6094" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="193.75" y="1456.0664"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="190.75" y="1471.1602">Does the reader have</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="190.75" y="1486.2539">a built-in card presence</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="190.75" y="1501.3477">notification mechanism?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="193.75" y="1516.4414"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="159.75" y="1478.707">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="337.75" y="1478.707">no</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="231" x="23" y="1529.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="211" x="33" y="1551.5352">WaitForCardInsertionAutonomousSpi</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="208" x="274" y="1529.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="188" x="284" y="1551.5352">WaitForCardInsertionBlockingSpi</text><polygon fill="#EBF5FB" points="258.25,1570.1719,270.25,1582.1719,258.25,1594.1719,246.25,1582.1719,258.25,1570.1719" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="230" x="512" y="1443.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="210" x="522" y="1466.0664">WaitForCardInsertionNonBlockingSpi</text><polygon fill="#EBF5FB" points="442.625,1600.1719,454.625,1612.1719,442.625,1624.1719,430.625,1612.1719,442.625,1600.1719" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#EBF5FB" points="328.125,1644.1719,557.125,1644.1719,569.125,1674.3594,557.125,1704.5469,328.125,1704.5469,316.125,1674.3594,328.125,1644.1719" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="331.125" y="1656.6289"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="229" x="328.125" y="1671.7227">Is the reader able to detect a card removal</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="164" x="328.125" y="1686.8164">between two APDU transfers?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="331.125" y="1701.9102"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="297.125" y="1671.7227">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="569.125" y="1671.7227">no</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="309" x="129.375" y="1714.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="289" x="139.375" y="1737.0039">WaitForCardRemovalBlockingDuringProcessingSpi</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="286" x="458.375" y="1714.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="266" x="468.375" y="1737.0039">DontWaitForCardRemovalDuringProcessingSpi</text><polygon fill="#EBF5FB" points="442.625,1755.6406,454.625,1767.6406,442.625,1779.6406,430.625,1767.6406,442.625,1755.6406" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#EBF5FB" points="343.125,1799.6406,542.125,1799.6406,554.125,1829.8281,542.125,1860.0156,343.125,1860.0156,331.125,1829.8281,343.125,1799.6406" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="346.125" y="1812.0977"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="199" x="343.125" y="1827.1914">Does the reader work autonomously</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134" x="343.125" y="1842.2852">to detect card removals?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="346.125" y="1857.3789"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="312.125" y="1827.1914">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="554.125" y="1827.1914">no</text><polygon fill="#EBF5FB" points="191.5,1870.0156,326.5,1870.0156,338.5,1907.75,326.5,1945.4844,191.5,1945.4844,179.5,1907.75,191.5,1870.0156" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="194.5" y="1882.4727"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="191.5" y="1897.5664">Does the reader have</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="191.5" y="1912.6602">a built-in missing card</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="191.5" y="1927.7539">notification mechanism?</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="194.5" y="1942.8477"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="19" x="160.5" y="1905.1133">yes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="14" x="338.5" y="1905.1133">no</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="230" x="24.75" y="1955.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="210" x="34.75" y="1977.9414">WaitForCardRemovalAutonomousSpi</text><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="207" x="274.75" y="1955.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="187" x="284.75" y="1977.9414">WaitForCardRemovalBlockingSpi</text><polygon fill="#EBF5FB" points="259,1996.5781,271,2008.5781,259,2020.5781,247,2008.5781,259,1996.5781" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="229" x="511.75" y="1870.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="209" x="521.75" y="1892.4727">WaitForCardRemovalNonBlockingSpi</text><polygon fill="#EBF5FB" points="442.625,2026.5781,454.625,2038.5781,442.625,2050.5781,430.625,2038.5781,442.625,2026.5781" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="79" x="774.375" y="1318.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59" x="784.375" y="1340.5977">ReaderSpi</text><polygon fill="#EBF5FB" points="628.25,2056.5781,640.25,2068.5781,628.25,2080.5781,616.25,2068.5781,628.25,2056.5781" style="stroke:#A80036;stroke-width:1.5;"/><ellipse cx="628.25" cy="2123.5781" fill="#FFFFFF" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="628.25" cy="2123.5781" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="378.25" y1="292.5156" y2="312.5156"/><polygon fill="#A80036" points="374.25,302.5156,378.25,312.5156,382.25,302.5156,378.25,306.5156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="378.25" y1="347.6094" y2="367.6094"/><polygon fill="#A80036" points="374.25,357.6094,378.25,367.6094,382.25,357.6094,378.25,361.6094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="378.25" y1="497.4063" y2="517.4063"/><polygon fill="#A80036" points="374.25,507.4063,378.25,517.4063,382.25,507.4063,378.25,511.4063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="378.25" y1="552.5" y2="572.5"/><polygon fill="#A80036" points="374.25,562.5,378.25,572.5,382.25,562.5,378.25,566.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="378.25" y1="402.7031" y2="462.3125"/><polygon fill="#A80036" points="374.25,452.3125,378.25,462.3125,382.25,452.3125,378.25,456.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="878.25" x2="878.25" y1="292.5156" y2="312.5156"/><polygon fill="#A80036" points="874.25,302.5156,878.25,312.5156,882.25,302.5156,878.25,306.5156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="878.25" x2="878.25" y1="347.6094" y2="367.6094"/><polygon fill="#A80036" points="874.25,357.6094,878.25,367.6094,882.25,357.6094,878.25,361.6094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="878.25" x2="878.25" y1="497.4063" y2="517.4063"/><polygon fill="#A80036" points="874.25,507.4063,878.25,517.4063,882.25,507.4063,878.25,511.4063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="648.75" x2="638.75" y1="644.2344" y2="644.2344"/><line style="stroke:#A80036;stroke-width:1.5;" x1="638.75" x2="638.75" y1="644.2344" y2="691.9688"/><polygon fill="#A80036" points="634.75,681.9688,638.75,691.9688,642.75,681.9688,638.75,685.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="857.75" x2="867.75" y1="644.2344" y2="644.2344"/><line style="stroke:#A80036;stroke-width:1.5;" x1="867.75" x2="867.75" y1="644.2344" y2="691.9688"/><polygon fill="#A80036" points="863.75,681.9688,867.75,691.9688,871.75,681.9688,867.75,685.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="638.75" x2="638.75" y1="727.0625" y2="745.0625"/><line style="stroke:#A80036;stroke-width:1.5;" x1="638.75" x2="741.25" y1="745.0625" y2="745.0625"/><polygon fill="#A80036" points="731.25,741.0625,741.25,745.0625,731.25,749.0625,735.25,745.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="867.75" x2="867.75" y1="727.0625" y2="745.0625"/><line style="stroke:#A80036;stroke-width:1.5;" x1="867.75" x2="765.25" y1="745.0625" y2="745.0625"/><polygon fill="#A80036" points="775.25,741.0625,765.25,745.0625,775.25,749.0625,771.25,745.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="797.75" x2="753.25" y1="584.5" y2="584.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="753.25" x2="753.25" y1="584.5" y2="606.5"/><polygon fill="#A80036" points="749.25,596.5,753.25,606.5,757.25,596.5,753.25,600.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="958.75" x2="1003.25" y1="584.5" y2="584.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1003.25" x2="1003.25" y1="584.5" y2="606.5"/><polygon fill="#A80036" points="999.25,596.5,1003.25,606.5,1007.25,596.5,1003.25,600.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="753.25" x2="753.25" y1="757.0625" y2="775.0625"/><line style="stroke:#A80036;stroke-width:1.5;" x1="753.25" x2="866.25" y1="775.0625" y2="775.0625"/><polygon fill="#A80036" points="856.25,771.0625,866.25,775.0625,856.25,779.0625,860.25,775.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1003.25" x2="1003.25" y1="641.5938" y2="775.0625"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1003.25" x2="890.25" y1="775.0625" y2="775.0625"/><polygon fill="#A80036" points="900.25,771.0625,890.25,775.0625,900.25,779.0625,896.25,775.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="878.25" x2="878.25" y1="552.5" y2="572.5"/><polygon fill="#A80036" points="874.25,562.5,878.25,572.5,882.25,562.5,878.25,566.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="878.25" x2="878.25" y1="402.7031" y2="462.3125"/><polygon fill="#A80036" points="874.25,452.3125,878.25,462.3125,882.25,452.3125,878.25,456.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="527.25" x2="378.25" y1="179.625" y2="179.625"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="378.25" y1="179.625" y2="257.4219"/><polygon fill="#A80036" points="374.25,247.4219,378.25,257.4219,382.25,247.4219,378.25,251.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="729.25" x2="878.25" y1="179.625" y2="179.625"/><line style="stroke:#A80036;stroke-width:1.5;" x1="878.25" x2="878.25" y1="179.625" y2="257.4219"/><polygon fill="#A80036" points="874.25,247.4219,878.25,257.4219,882.25,247.4219,878.25,251.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="378.25" y1="607.5938" y2="817.0625"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="616.25" y1="817.0625" y2="817.0625"/><polygon fill="#A80036" points="606.25,813.0625,616.25,817.0625,606.25,821.0625,610.25,817.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="878.25" x2="878.25" y1="787.0625" y2="817.0625"/><line style="stroke:#A80036;stroke-width:1.5;" x1="878.25" x2="640.25" y1="817.0625" y2="817.0625"/><polygon fill="#A80036" points="650.25,813.0625,640.25,817.0625,650.25,821.0625,646.25,817.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="129.4375" y2="149.4375"/><polygon fill="#A80036" points="624.25,139.4375,628.25,149.4375,632.25,139.4375,628.25,143.4375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="911.7656" y2="931.7656"/><polygon fill="#A80036" points="624.25,921.7656,628.25,931.7656,632.25,921.7656,628.25,925.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="1010.8594" y2="1036.4063"/><polygon fill="#A80036" points="624.25,1026.4063,628.25,1036.4063,632.25,1026.4063,628.25,1030.4063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="755.75" x2="767.75" y1="998.8594" y2="998.8594"/><polygon fill="#A80036" points="763.75,1043.9531,767.75,1053.9531,771.75,1043.9531,767.75,1047.9531" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="767.75" x2="767.75" y1="998.8594" y2="1103.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="767.75" x2="640.25" y1="1103.5" y2="1103.5"/><polygon fill="#A80036" points="650.25,1099.5,640.25,1103.5,650.25,1107.5,646.25,1103.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="1071.5" y2="1091.5"/><polygon fill="#A80036" points="624.25,1081.5,628.25,1091.5,632.25,1081.5,628.25,1085.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="966.8594" y2="986.8594"/><polygon fill="#A80036" points="624.25,976.8594,628.25,986.8594,632.25,976.8594,628.25,980.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="1159.5" y2="1185.0469"/><polygon fill="#A80036" points="624.25,1175.0469,628.25,1185.0469,632.25,1175.0469,628.25,1179.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="820.75" x2="832.75" y1="1147.5" y2="1147.5"/><polygon fill="#A80036" points="828.75,1192.5938,832.75,1202.5938,836.75,1192.5938,832.75,1196.5938" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="832.75" x2="832.75" y1="1147.5" y2="1252.1406"/><line style="stroke:#A80036;stroke-width:1.5;" x1="832.75" x2="640.25" y1="1252.1406" y2="1252.1406"/><polygon fill="#A80036" points="650.25,1248.1406,640.25,1252.1406,650.25,1256.1406,646.25,1252.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="1220.1406" y2="1240.1406"/><polygon fill="#A80036" points="624.25,1230.1406,628.25,1240.1406,632.25,1230.1406,628.25,1234.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="1115.5" y2="1135.5"/><polygon fill="#A80036" points="624.25,1125.5,628.25,1135.5,632.25,1125.5,628.25,1129.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="178.75" x2="138.5" y1="1481.3438" y2="1481.3438"/><line style="stroke:#A80036;stroke-width:1.5;" x1="138.5" x2="138.5" y1="1481.3438" y2="1529.0781"/><polygon fill="#A80036" points="134.5,1519.0781,138.5,1529.0781,142.5,1519.0781,138.5,1523.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="337.75" x2="378" y1="1481.3438" y2="1481.3438"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="1481.3438" y2="1529.0781"/><polygon fill="#A80036" points="374,1519.0781,378,1529.0781,382,1519.0781,378,1523.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="138.5" x2="138.5" y1="1564.1719" y2="1582.1719"/><line style="stroke:#A80036;stroke-width:1.5;" x1="138.5" x2="246.25" y1="1582.1719" y2="1582.1719"/><polygon fill="#A80036" points="236.25,1578.1719,246.25,1582.1719,236.25,1586.1719,240.25,1582.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="1564.1719" y2="1582.1719"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="270.25" y1="1582.1719" y2="1582.1719"/><polygon fill="#A80036" points="280.25,1578.1719,270.25,1582.1719,280.25,1586.1719,276.25,1582.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="331.125" x2="258.25" y1="1403.4219" y2="1403.4219"/><line style="stroke:#A80036;stroke-width:1.5;" x1="258.25" x2="258.25" y1="1403.4219" y2="1443.6094"/><polygon fill="#A80036" points="254.25,1433.6094,258.25,1443.6094,262.25,1433.6094,258.25,1437.6094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="554.125" x2="627" y1="1403.4219" y2="1403.4219"/><line style="stroke:#A80036;stroke-width:1.5;" x1="627" x2="627" y1="1403.4219" y2="1443.6094"/><polygon fill="#A80036" points="623,1433.6094,627,1443.6094,631,1433.6094,627,1437.6094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="258.25" x2="258.25" y1="1594.1719" y2="1612.1719"/><line style="stroke:#A80036;stroke-width:1.5;" x1="258.25" x2="430.625" y1="1612.1719" y2="1612.1719"/><polygon fill="#A80036" points="420.625,1608.1719,430.625,1612.1719,420.625,1616.1719,424.625,1612.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="627" x2="627" y1="1478.7031" y2="1612.1719"/><line style="stroke:#A80036;stroke-width:1.5;" x1="627" x2="454.625" y1="1612.1719" y2="1612.1719"/><polygon fill="#A80036" points="464.625,1608.1719,454.625,1612.1719,464.625,1616.1719,460.625,1612.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="442.625" x2="442.625" y1="1353.2344" y2="1373.2344"/><polygon fill="#A80036" points="438.625,1363.2344,442.625,1373.2344,446.625,1363.2344,442.625,1367.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="316.125" x2="283.875" y1="1674.3594" y2="1674.3594"/><line style="stroke:#A80036;stroke-width:1.5;" x1="283.875" x2="283.875" y1="1674.3594" y2="1714.5469"/><polygon fill="#A80036" points="279.875,1704.5469,283.875,1714.5469,287.875,1704.5469,283.875,1708.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="569.125" x2="601.375" y1="1674.3594" y2="1674.3594"/><line style="stroke:#A80036;stroke-width:1.5;" x1="601.375" x2="601.375" y1="1674.3594" y2="1714.5469"/><polygon fill="#A80036" points="597.375,1704.5469,601.375,1714.5469,605.375,1704.5469,601.375,1708.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="283.875" x2="283.875" y1="1749.6406" y2="1767.6406"/><line style="stroke:#A80036;stroke-width:1.5;" x1="283.875" x2="430.625" y1="1767.6406" y2="1767.6406"/><polygon fill="#A80036" points="420.625,1763.6406,430.625,1767.6406,420.625,1771.6406,424.625,1767.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="601.375" x2="601.375" y1="1749.6406" y2="1767.6406"/><line style="stroke:#A80036;stroke-width:1.5;" x1="601.375" x2="454.625" y1="1767.6406" y2="1767.6406"/><polygon fill="#A80036" points="464.625,1763.6406,454.625,1767.6406,464.625,1771.6406,460.625,1767.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="442.625" x2="442.625" y1="1624.1719" y2="1644.1719"/><polygon fill="#A80036" points="438.625,1634.1719,442.625,1644.1719,446.625,1634.1719,442.625,1638.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="179.5" x2="139.75" y1="1907.75" y2="1907.75"/><line style="stroke:#A80036;stroke-width:1.5;" x1="139.75" x2="139.75" y1="1907.75" y2="1955.4844"/><polygon fill="#A80036" points="135.75,1945.4844,139.75,1955.4844,143.75,1945.4844,139.75,1949.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338.5" x2="378.25" y1="1907.75" y2="1907.75"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="378.25" y1="1907.75" y2="1955.4844"/><polygon fill="#A80036" points="374.25,1945.4844,378.25,1955.4844,382.25,1945.4844,378.25,1949.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="139.75" x2="139.75" y1="1990.5781" y2="2008.5781"/><line style="stroke:#A80036;stroke-width:1.5;" x1="139.75" x2="247" y1="2008.5781" y2="2008.5781"/><polygon fill="#A80036" points="237,2004.5781,247,2008.5781,237,2012.5781,241,2008.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="378.25" y1="1990.5781" y2="2008.5781"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378.25" x2="271" y1="2008.5781" y2="2008.5781"/><polygon fill="#A80036" points="281,2004.5781,271,2008.5781,281,2012.5781,277,2008.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="331.125" x2="259" y1="1829.8281" y2="1829.8281"/><line style="stroke:#A80036;stroke-width:1.5;" x1="259" x2="259" y1="1829.8281" y2="1870.0156"/><polygon fill="#A80036" points="255,1860.0156,259,1870.0156,263,1860.0156,259,1864.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="554.125" x2="626.25" y1="1829.8281" y2="1829.8281"/><line style="stroke:#A80036;stroke-width:1.5;" x1="626.25" x2="626.25" y1="1829.8281" y2="1870.0156"/><polygon fill="#A80036" points="622.25,1860.0156,626.25,1870.0156,630.25,1860.0156,626.25,1864.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="259" x2="259" y1="2020.5781" y2="2038.5781"/><line style="stroke:#A80036;stroke-width:1.5;" x1="259" x2="430.625" y1="2038.5781" y2="2038.5781"/><polygon fill="#A80036" points="420.625,2034.5781,430.625,2038.5781,420.625,2042.5781,424.625,2038.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="626.25" x2="626.25" y1="1905.1094" y2="2038.5781"/><line style="stroke:#A80036;stroke-width:1.5;" x1="626.25" x2="454.625" y1="2038.5781" y2="2038.5781"/><polygon fill="#A80036" points="464.625,2034.5781,454.625,2038.5781,464.625,2042.5781,460.625,2038.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="442.625" x2="442.625" y1="1779.6406" y2="1799.6406"/><polygon fill="#A80036" points="438.625,1789.6406,442.625,1799.6406,446.625,1789.6406,442.625,1793.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="553.75" x2="442.625" y1="1296.1406" y2="1296.1406"/><line style="stroke:#A80036;stroke-width:1.5;" x1="442.625" x2="442.625" y1="1296.1406" y2="1318.1406"/><polygon fill="#A80036" points="438.625,1308.1406,442.625,1318.1406,446.625,1308.1406,442.625,1312.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="702.75" x2="813.875" y1="1296.1406" y2="1296.1406"/><line style="stroke:#A80036;stroke-width:1.5;" x1="813.875" x2="813.875" y1="1296.1406" y2="1318.1406"/><polygon fill="#A80036" points="809.875,1308.1406,813.875,1318.1406,817.875,1308.1406,813.875,1312.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="442.625" x2="442.625" y1="2050.5781" y2="2068.5781"/><line style="stroke:#A80036;stroke-width:1.5;" x1="442.625" x2="616.25" y1="2068.5781" y2="2068.5781"/><polygon fill="#A80036" points="606.25,2064.5781,616.25,2068.5781,606.25,2072.5781,610.25,2068.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="813.875" x2="813.875" y1="1353.2344" y2="2068.5781"/><line style="stroke:#A80036;stroke-width:1.5;" x1="813.875" x2="640.25" y1="2068.5781" y2="2068.5781"/><polygon fill="#A80036" points="650.25,2064.5781,640.25,2068.5781,650.25,2072.5781,646.25,2068.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="1264.1406" y2="1284.1406"/><polygon fill="#A80036" points="624.25,1274.1406,628.25,1284.1406,632.25,1274.1406,628.25,1278.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="829.0625" y2="876.6719"/><polygon fill="#A80036" points="624.25,866.6719,628.25,876.6719,632.25,866.6719,628.25,870.6719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="628.25" x2="628.25" y1="2080.5781" y2="2112.5781"/><polygon fill="#A80036" points="624.25,2102.5781,628.25,2112.5781,632.25,2102.5781,628.25,2106.5781" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b23dbdc55301b943263e861c90206438]
@startuml
'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_YELLOW FEFECE
!define C_PURPLE F4ECF7
!define C_BLUE EBF5FB
!define C_GREEN E9F7EF
<style>
activityDiagram {
    diamond {
        BackgroundColor C_BLUE
        FontSize 12
    }
    arrow {
        FontSize 12
    }
    partition {
        BackgroundColor C_GREY1
        RoundCorner 6
    }
}
</style>
skinparam Shadowing false

legend top
    __Colors legend__ :
    * <back:C_GREEN>Common API</back>
    * <back:C_PURPLE>Plugin Xxx API</back>
    * <back:C_YELLOW>Plugin API</back>
end legend

start

if (\nDoes the plugin have to provide\na reader allocation mechanism?\n) then (yes)
    partition "  Plugin factory object  " {
        #C_GREEN:**KeyplePluginExtensionFactory**;
        #C_PURPLE:specific **XxxPluginFactory**;
        :**PoolPluginFactorySpi**;
    }
    partition "  Plugin object  " {
        #C_GREEN:**KeyplePluginExtension**;
        #C_PURPLE:specific **XxxPlugin**;
        :**PoolPluginSpi**;
    }
else (no)
    partition "  Plugin factory object  " {
        #C_GREEN:**KeyplePluginExtensionFactory**;
        #C_PURPLE:specific **XxxPluginFactory**;
        :**PluginFactorySpi**;
    }
    partition "  Plugin object  " {
        #C_GREEN:**KeyplePluginExtension**;
        #C_PURPLE:specific **XxxPlugin**;
        if (Is the reader removable?) then (yes)
            if (\nDoes the plugin work\nautonomously to detect reader\nconnections and disconnections?\n) then (yes)
                :**AutonomousObservablePluginSpi**;
            else (no)
                :**ObservablePluginSpi**;
            endif
        else (no)
            :**PluginSpi**;
        endif
    }
endif

partition "  Reader object  " {
    #C_GREEN:**KeypleReaderExtension**;
    #C_PURPLE:specific **XxxReader**;

    if (Can the reader handle multiple protocols?) then (yes)
        :**ConfigurableReaderSpi**;
    else (no)
    endif

    if (Is the reader autonomous to open a logical channel with the card?) then (yes)
        :**AutonomousSelectionReaderSpi**;
    else (no)
    endif

    if (Is the card removable?) then (yes)
        :**ObservableReaderSpi**;
        if (\nDoes the reader work autonomously\nto detect card insertions?\n) then (yes)
            if (\nDoes the reader have\na built-in card presence\nnotification mechanism?\n) then (yes)
                :**WaitForCardInsertionAutonomousSpi**;
            else (no)
                :**WaitForCardInsertionBlockingSpi**;
            endif
        else (no)
            :**WaitForCardInsertionNonBlockingSpi**;
        endif
        if (\nIs the reader able to detect a card removal\nbetween two APDU transfers?\n) then (yes)
            :**WaitForCardRemovalBlockingDuringProcessingSpi**;
        else (no)
            :**DontWaitForCardRemovalDuringProcessingSpi**;
        endif
        if (\nDoes the reader work autonomously\nto detect card removals?\n) then (yes)
            if (\nDoes the reader have\na built-in missing card\nnotification mechanism?\n) then (yes)
                :**WaitForCardRemovalAutonomousSpi**;
            else (no)
                :**WaitForCardRemovalBlockingSpi**;
            endif
        else (no)
            :**WaitForCardRemovalNonBlockingSpi**;
        endif
    else (no)
        :**ReaderSpi**;
    endif
}

stop
@enduml

@startuml
<style>
activityDiagram {
    diamond {
        BackgroundColor EBF5FB
        FontSize 12
    }
    arrow {
        FontSize 12
    }
    partition {
        BackgroundColor F8F9F9
        RoundCorner 6
    }
}
</style>
skinparam Shadowing false

legend top
    __Colors legend__ :
    * <back:E9F7EF>Common API</back>
    * <back:F4ECF7>Plugin Xxx API</back>
    * <back:FEFECE>Plugin API</back>
end legend

start

if (\nDoes the plugin have to provide\na reader allocation mechanism?\n) then (yes)
    partition "  Plugin factory object  " {
        #E9F7EF:**KeyplePluginExtensionFactory**;
        #F4ECF7:specific **XxxPluginFactory**;
        :**PoolPluginFactorySpi**;
    }
    partition "  Plugin object  " {
        #E9F7EF:**KeyplePluginExtension**;
        #F4ECF7:specific **XxxPlugin**;
        :**PoolPluginSpi**;
    }
else (no)
    partition "  Plugin factory object  " {
        #E9F7EF:**KeyplePluginExtensionFactory**;
        #F4ECF7:specific **XxxPluginFactory**;
        :**PluginFactorySpi**;
    }
    partition "  Plugin object  " {
        #E9F7EF:**KeyplePluginExtension**;
        #F4ECF7:specific **XxxPlugin**;
        if (Is the reader removable?) then (yes)
            if (\nDoes the plugin work\nautonomously to detect reader\nconnections and disconnections?\n) then (yes)
                :**AutonomousObservablePluginSpi**;
            else (no)
                :**ObservablePluginSpi**;
            endif
        else (no)
            :**PluginSpi**;
        endif
    }
endif

partition "  Reader object  " {
    #E9F7EF:**KeypleReaderExtension**;
    #F4ECF7:specific **XxxReader**;

    if (Can the reader handle multiple protocols?) then (yes)
        :**ConfigurableReaderSpi**;
    else (no)
    endif

    if (Is the reader autonomous to open a logical channel with the card?) then (yes)
        :**AutonomousSelectionReaderSpi**;
    else (no)
    endif

    if (Is the card removable?) then (yes)
        :**ObservableReaderSpi**;
        if (\nDoes the reader work autonomously\nto detect card insertions?\n) then (yes)
            if (\nDoes the reader have\na built-in card presence\nnotification mechanism?\n) then (yes)
                :**WaitForCardInsertionAutonomousSpi**;
            else (no)
                :**WaitForCardInsertionBlockingSpi**;
            endif
        else (no)
            :**WaitForCardInsertionNonBlockingSpi**;
        endif
        if (\nIs the reader able to detect a card removal\nbetween two APDU transfers?\n) then (yes)
            :**WaitForCardRemovalBlockingDuringProcessingSpi**;
        else (no)
            :**DontWaitForCardRemovalDuringProcessingSpi**;
        endif
        if (\nDoes the reader work autonomously\nto detect card removals?\n) then (yes)
            if (\nDoes the reader have\na built-in missing card\nnotification mechanism?\n) then (yes)
                :**WaitForCardRemovalAutonomousSpi**;
            else (no)
                :**WaitForCardRemovalBlockingSpi**;
            endif
        else (no)
            :**WaitForCardRemovalNonBlockingSpi**;
        endif
    else (no)
        :**ReaderSpi**;
    endif
}

stop
@enduml

PlantUML version 1.2021.11(Sat Oct 02 15:26:11 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>