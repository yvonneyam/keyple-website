<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="671px" preserveAspectRatio="none" style="width:325px;height:671px;background:#FFFFFF;" version="1.1" viewBox="0 0 325 671" width="325px" zoomAndPan="magnify"><defs/><g><!--MD5=[294e55279abb2c7a1cded07edeb7cf0a]
cluster packCommonApi--><polygon fill="#F8F9F9" points="64.2726,119,157.2726,119,164.2726,142.6094,192.2726,142.6094,192.2726,231,64.2726,231,64.2726,119" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="64.2726" x2="164.2726" y1="142.6094" y2="142.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="68.2726" y="135.5332">Common API</text><!--MD5=[c9b12d7b2c4b1fc61915ee9f9b21580e]
cluster packService--><polygon fill="#F8F9F9" points="26.2726,281,138.2726,281,145.2726,304.6094,148.2726,304.6094,148.2726,502,26.2726,502,26.2726,281" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="26.2726" x2="145.2726" y1="304.6094" y2="304.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="106" x="30.2726" y="297.5332">Keyple Service</text><!--MD5=[c4ac30c743123e4d988baf9f0203091a]
cluster packPlugin--><polygon fill="#F8F9F9" points="172.2726,281,251.2726,281,258.2726,304.6094,308.2726,304.6094,308.2726,502,172.2726,502,172.2726,281" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="172.2726" x2="258.2726" y1="304.6094" y2="304.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73" x="176.2726" y="297.5332">Plugin Xxx</text><!--MD5=[cecc079309b05d6a651d8875df36cc65]
cluster packPluginApi--><polygon fill="#F8F9F9" points="46.2726,552,122.2726,552,129.2726,575.6094,273.2726,575.6094,273.2726,664,46.2726,664,46.2726,552" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="46.2726" x2="129.2726" y1="575.6094" y2="575.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="70" x="50.2726" y="568.5332">Plugin API</text><!--MD5=[108b8ec4cbe602fd6a8c36d5380724bc]
entity commonApi--><ellipse cx="128.2726" cy="185" fill="#FDEDEC" rx="8" ry="8" style="stroke:#E74C3C;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="87.7726" y="216.5332">Common API</text><!--MD5=[7dffe31cf74252a1bd377ad28c4a004f]
entity serviceApi--><ellipse cx="87.2726" cy="347" fill="#FEFECE" rx="8" ry="8" style="stroke:#D4AC0D;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="51.2726" y="378.5332">Service API</text><!--MD5=[38bfa9dc6018363cafe15f923a4b8db9]
entity service--><rect fill="#FEFECE" height="47.6094" style="stroke:#D4AC0D;stroke-width:1.5;" width="90" x="42.2726" y="438"/><rect fill="#FEFECE" height="10" style="stroke:#D4AC0D;stroke-width:1.5;" width="15" x="112.2726" y="443"/><rect fill="#FEFECE" height="2" style="stroke:#D4AC0D;stroke-width:1.5;" width="4" x="110.2726" y="445"/><rect fill="#FEFECE" height="2" style="stroke:#D4AC0D;stroke-width:1.5;" width="4" x="110.2726" y="449"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="57.2726" y="472.5332">Adapter</text><!--MD5=[6ad09bc9cfee3915568353380d24c0b3]
entity specificPluginApi--><ellipse cx="240.2726" cy="347" fill="#FDEDEC" rx="8" ry="8" style="stroke:#E74C3C;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="196.2726" y="378.5332">Plugin Xxx API</text><!--MD5=[8e6a9284dc1da0ef8b54fdd8dc5bfba7]
entity plugin--><rect fill="#FDEDEC" height="47.6094" style="stroke:#E74C3C;stroke-width:1.5;" width="90" x="188.2726" y="438"/><rect fill="#FDEDEC" height="10" style="stroke:#E74C3C;stroke-width:1.5;" width="15" x="258.2726" y="443"/><rect fill="#FDEDEC" height="2" style="stroke:#E74C3C;stroke-width:1.5;" width="4" x="256.2726" y="445"/><rect fill="#FDEDEC" height="2" style="stroke:#E74C3C;stroke-width:1.5;" width="4" x="256.2726" y="449"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="203.2726" y="472.5332">Adapter</text><!--MD5=[718fa0839d801591e7d1aac6ab3b37fd]
entity pluginSpi--><ellipse cx="102.2726" cy="618" fill="#FDEDEC" rx="8" ry="8" style="stroke:#E74C3C;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="70.2726" y="649.5332">Plugin SPI</text><!--MD5=[c91beeae9d23cda8fa2ee4b23a5f449e]
entity pluginApi--><ellipse cx="217.2726" cy="618" fill="#FEFECE" rx="8" ry="8" style="stroke:#D4AC0D;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="185.2726" y="649.5332">Plugin API</text><!--MD5=[37c33c71ce9550fe283f62c54b59719b]
entity application--><rect fill="#EBF5FB" height="47.6094" style="stroke:#3498DB;stroke-width:1.5;" width="148" x="54.2726" y="7"/><rect fill="#EBF5FB" height="10" style="stroke:#3498DB;stroke-width:1.5;" width="15" x="182.2726" y="12"/><rect fill="#EBF5FB" height="2" style="stroke:#3498DB;stroke-width:1.5;" width="4" x="180.2726" y="14"/><rect fill="#EBF5FB" height="2" style="stroke:#3498DB;stroke-width:1.5;" width="4" x="180.2726" y="18"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="69.2726" y="41.5332">Client application</text><!--MD5=[506555e07322f0d0508c5c27794c4ca4]
link commonApi to specificPluginApi--><path d="M133.9806,194.154 C153.1486,221.537 215.0926,310.028 234.4416,337.67 " fill="none" id="commonApi-specificPluginApi" style="stroke:#E74C3C;stroke-width:1.0;"/><!--MD5=[d4e6d8964fcbc574ec5996643969ac84]
link specificPluginApi to plugin--><path d="M239.7696,356.127 C238.7226,373.029 236.2766,412.508 234.7026,437.916 " fill="none" id="specificPluginApi-plugin" style="stroke:#E74C3C;stroke-width:1.0;"/><!--MD5=[31f793b7a88a90184888e3e7c4dedf47]
link plugin to pluginSpi--><path d="M211.0866,486.315 C196.1246,502.272 176.1156,524.068 159.2726,544 C139.9686,566.844 118.6256,595.0289 108.3974,608.7346 " fill="none" id="plugin-pluginSpi" style="stroke:#E74C3C;stroke-width:1.0;"/><!--MD5=[d28946eb54196e7507811bcb95f3b5ce]
link serviceApi to service--><path d="M87.2726,356.127 C87.2726,373.029 87.2726,412.508 87.2726,437.916 " fill="none" id="serviceApi-service" style="stroke:#D4AC0D;stroke-width:1.0;"/><!--MD5=[dd1eccd1e7426faad07553cf68d2ac5f]
link service to pluginApi--><path d="M108.4133,486.095 C122.9486,502.14 142.5656,524.125 159.2726,544 C178.6456,567.047 200.4846,595.1398 210.9796,608.7801 " fill="none" id="service-pluginApi" style="stroke:#D4AC0D;stroke-width:1.0;"/><!--MD5=[613e7e914a8210605b9b474b688c1ac0]
link application to commonApi--><path d="M128.2726,55.086 C128.2726,87.34 128.2726,144.838 128.2726,170.723 " fill="none" id="application-to-commonApi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="128.2726,175.747,132.2726,166.747,128.2726,170.747,124.2726,166.747,128.2726,175.747" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="129.2726" y="99.4951">use</text><!--MD5=[f35ffbc0899202c7e505e115b456354e]
link application to specificPluginApi--><path d="M152.0856,55.156 C165.8716,69.894 182.3986,90.091 192.2726,111 C229.2356,189.274 237.8196,295.383 239.7406,332.508 " fill="none" id="application-to-specificPluginApi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="239.9946,337.86,243.5606,328.6794,239.756,332.8657,235.5697,329.0611,239.9946,337.86" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="230.2726" y="190.4951">use</text><!--MD5=[879ca4a963ad0fc65afcfcf02bc7792f]
link application to serviceApi--><path d="M90.4509,55.233 C71.9121,68.92 51.4313,88.054 41.2726,111 C6,190.674 59.3167,297.405 79.8075,333.486 " fill="none" id="application-to-serviceApi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="82.3579,337.909,81.3258,328.1144,79.8596,333.5779,74.3961,332.1117,82.3579,337.909" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="42.2726" y="190.4951">use</text><!--MD5=[1d9a71772be4b1c8979e1d29a9b1326d]
reverse link commonApi to serviceApi--><path d="M124.8966,199.175 C116.7326,231.034 96.1031,311.54 89.4071,337.67 " fill="none" id="commonApi-backto-serviceApi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="126.1826,194.154,120.073,201.8789,124.941,198.9974,127.8225,203.8654,126.1826,194.154" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="113.2726" y="261.4951">use</text><!--MD5=[bdfabf72ed0a19f9359d94fe43ccf0b8]
link service to pluginSpi--><path d="M85.7379,486.002 C85.1534,495.851 84.5592,507.485 84.2726,518 C84.0547,525.997 83.3997,528.048 84.2726,536 C86.9276,560.187 93.9149,587.7182 98.362,603.6518 " fill="none" id="service-to-pluginSpi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="99.7628,608.5892,101.1542,598.8391,98.3979,603.7791,93.458,601.0229,99.7628,608.5892" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="85.2726" y="532.4951">use</text><!--MD5=[e41df91f541512673a0e31599b8ee993]
link plugin to pluginApi--><path d="M230.8776,486.055 C227.4756,518.8 221.3556,577.7 218.6376,603.8616 " fill="none" id="plugin-to-pluginApi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="218.1116,608.9262,223.0203,600.3878,218.6283,603.953,215.0632,599.561,218.1116,608.9262" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="227.2726" y="532.4951">use</text><!--MD5=[844703b13240cb513936ce01749fe8fd]
@startuml

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define COLOR_YELLOW D4AC0D
!define COLOR_RED E74C3C
!define COLOR_PURPLE 8E44AD
!define COLOR_BLUE 3498DB
!define COLOR_GREEN 27AE60
!define COLOR_GREY 2C3E50

!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam component {
    BorderColor #D4AC0D
    ' Red
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    ' Purple
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    ' blue
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    ' Green
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    ' Grey
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
skinparam interface {
    BorderColor #D4AC0D
    ' Red
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    ' Purple
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    ' blue
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    ' Green
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    ' Grey
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
hide <<red>> stereotype
hide <<purple>> stereotype
hide <<blue>> stereotype
hide <<green>> stereotype
hide <<grey>> stereotype

' == COMPONENTS ==

[Client application] as application <<blue>>
package "Common API" as packCommonApi {
    interface "Common API" as commonApi <<red>>
}
package "Keyple Service" as packService {
    interface "Service API" as serviceApi
    [Adapter] as service
}
package "Plugin Xxx" as packPlugin {
    interface "Plugin Xxx API" as specificPluginApi <<red>>
    [Adapter] as plugin <<red>>
}
package "Plugin API" as packPluginApi {
    interface "Plugin SPI" as pluginSpi <<red>>
    interface "Plugin API" as pluginApi
}

' == ASSOCIATIONS ==

specificPluginApi -up- commonApi #COLOR_RED
plugin -up- specificPluginApi #COLOR_RED
plugin - - pluginSpi #COLOR_RED

service -up- serviceApi #COLOR_YELLOW
service - - pluginApi #COLOR_YELLOW

' USE

application ..> commonApi : use
application ..> specificPluginApi : use
application ..> serviceApi : use

serviceApi .up.> commonApi : use
service ..> pluginSpi : use

plugin ..> pluginApi : use

' == STYLE ==

package packPlugin #C_GREY1 {
}
package packService #C_GREY1 {
}
package packCommonApi #C_GREY1 {
}
package packPluginApi #C_GREY1 {
}

@enduml

@startuml




skinparam Shadowing false
skinparam component {
    BorderColor #D4AC0D
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
skinparam interface {
    BorderColor #D4AC0D
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
hide <<red>> stereotype
hide <<purple>> stereotype
hide <<blue>> stereotype
hide <<green>> stereotype
hide <<grey>> stereotype


[Client application] as application <<blue>>
package "Common API" as packCommonApi {
    interface "Common API" as commonApi <<red>>
}
package "Keyple Service" as packService {
    interface "Service API" as serviceApi
    [Adapter] as service
}
package "Plugin Xxx" as packPlugin {
    interface "Plugin Xxx API" as specificPluginApi <<red>>
    [Adapter] as plugin <<red>>
}
package "Plugin API" as packPluginApi {
    interface "Plugin SPI" as pluginSpi <<red>>
    interface "Plugin API" as pluginApi
}


specificPluginApi -up- commonApi #E74C3C
plugin -up- specificPluginApi #E74C3C
plugin - - pluginSpi #E74C3C

service -up- serviceApi #D4AC0D
service - - pluginApi #D4AC0D


application ..> commonApi : use
application ..> specificPluginApi : use
application ..> serviceApi : use

serviceApi .up.> commonApi : use
service ..> pluginSpi : use

plugin ..> pluginApi : use


package packPlugin #F8F9F9 {
}
package packService #F8F9F9 {
}
package packCommonApi #F8F9F9 {
}
package packPluginApi #F8F9F9 {
}

@enduml

PlantUML version 1.2021.11(Sat Oct 02 15:26:11 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>