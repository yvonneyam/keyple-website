<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=generator content="Source Themes Academic 4.8.0">
<meta name=description content="How to develop an end-user standalone application.">
<link rel=alternate hreflang=en-us href=https://keyple.org/learn/developer-guide/standalone-application/>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<meta name=theme-color content="#1D87BB">
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin=anonymous>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/darcula.min.css crossorigin=anonymous title=hl-light>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/darcula.min.css crossorigin=anonymous title=hl-dark disabled>
<script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:wght@300&display=swap">
<link rel=stylesheet href=../../../css/academic.css>
<script>(function(b,d,e,a,g){b[a]=b[a]||[],b[a].push({'gtm.start':(new Date).getTime(),event:'gtm.js'});var f=d.getElementsByTagName(e)[0],c=d.createElement(e),h=a!='dataLayer'?'&l='+a:'';c.async=!0,c.src='https://www.googletagmanager.com/gtm.js?id='+g+h,f.parentNode.insertBefore(c,f)})(window,document,'script','dataLayer','GTM-5WLCZXC')</script>
<link rel=manifest href=../../../index.webmanifest>
<link rel=icon type=image/png href=../../../images/icon_hu16db34b3636b127457de39ca2fab620f_9845_32x32_fill_lanczos_center_3.png>
<link rel=apple-touch-icon type=image/png href=../../../images/icon_hu16db34b3636b127457de39ca2fab620f_9845_192x192_fill_lanczos_center_3.png>
<link rel=canonical href=https://keyple.org/learn/developer-guide/standalone-application/>
<meta property="twitter:card" content="summary">
<meta property="og:site_name" content="Eclipse Keyple">
<meta property="og:url" content="https://keyple.org/learn/developer-guide/standalone-application/">
<meta property="og:title" content="Standalone Application Developer Guide | Eclipse Keyple">
<meta property="og:description" content="How to develop an end-user standalone application."><meta property="og:image" content="https://keyple.org/images/logo_hu673a59176cd62c570f44ed2728665b48_42188_300x300_fit_lanczos_3.png">
<meta property="twitter:image" content="https://keyple.org/images/logo_hu673a59176cd62c570f44ed2728665b48_42188_300x300_fit_lanczos_3.png"><meta property="og:locale" content="en-us">
<meta property="article:modified_time" content="2021-09-29T17:02:37+02:00">
<script src=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.js integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.css integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q=" crossorigin=anonymous>
<script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#1D87BB",text:"#FFFFFF"},button:{background:"#FFFFFF",text:"#1D87BB"}},theme:"classic",type:"opt-in",content:{header:'Cookiessss used on the website!',message:"Some Eclipse Foundation pages use cookies to better serve you when you return to the site. You can set your browser to notify you before you receive a cookie or turn off cookies. If you do so, however, some areas of some sites may not function properly. To read Eclipse Foundation Privacy Policy ",allow:"Allow cookies",deny:"Decline",dismiss:"Got it!",link:"click here",href:'https://www.eclipse.org/legal/privacy.php'}})})</script>
<title>Standalone Application Developer Guide | Eclipse Keyple</title>
</head>
<body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents>
<script>const isSiteThemeDark=!1</script>
<script src=../../../js/load-theme.js></script>
<aside class=search-results id=search>
<div class=container>
<section class=search-header>
<div class="row no-gutters justify-content-between mb-3">
<div class=col-6>
<h1>Search</h1>
</div>
<div class="col-6 col-search-close">
<a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a>
</div>
</div>
<div id=search-box>
<input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control>
</div>
</section>
<section class=section-search-results>
<div id=search-hits>
</div>
</section>
</div>
</aside>
<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main>
<div class=container>
<div class="d-none d-lg-inline-flex">
<a class=navbar-brand href=../../../><img src=../../../images/logo_hu673a59176cd62c570f44ed2728665b48_42188_0x70_resize_lanczos_3.png alt="Eclipse Keyple"></a>
</div>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span>
</button>
<div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
<a class=navbar-brand href=../../../><img src=../../../images/logo_hu673a59176cd62c570f44ed2728665b48_42188_0x70_resize_lanczos_3.png alt="Eclipse Keyple"></a>
</div>
<div class="navbar-collapse main-menu-item collapse justify-content-center" id=navbar-content>
<ul class="navbar-nav d-md-inline-flex">
<li class="nav-item dropdown">
<a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>What is Eclipse Keyple™</span><span class=caret></span>
</a>
<div class=dropdown-menu>
<a class=dropdown-item href=../../../what-is-keyple/overview/><span>Overview</span></a>
<a class=dropdown-item href=../../../what-is-keyple/why-trust/><span>Why trust Eclipse Keyple™?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/who-is-it-for/><span>Who is it for?</span></a>
<a class=dropdown-item href=../../../#adopters><span>Who is using Eclipse Keyple™?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/what-is-calypso/><span>What is Calypso®?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/main-features/><span>Keyple's main features</span></a>
<a class=dropdown-item href=../../../#news><span>News</span></a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=../../../learn/overview><span>Learn</span></a>
</li>
<li class="nav-item dropdown">
<a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>Components</span><span class=caret></span>
</a>
<div class=dropdown-menu>
<a class=dropdown-item href=../../../components-java/overview/><span>Java implementation v2+</span></a>
<a class=dropdown-item href=../../../components-cpp/overview/><span>C++ implementation v2+</span></a>
<a class=dropdown-item href=../../../><span> </span></a>
<a class=dropdown-item href=../../../components-java-1.0/><span>Java implementation v1.0 (deprecated)</span></a>
<a class=dropdown-item href=../../../components-cpp-0.9/><span>C++ implementation v0.9 (deprecated)</span></a>
</div>
</li>
<li class="nav-item dropdown">
<a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>Community</span><span class=caret></span>
</a>
<div class=dropdown-menu>
<a class=dropdown-item href=../../../community/contributing/><span>Contributing</span></a>
<a class=dropdown-item href=../../../community/roadmap/><span>Roadmap</span></a>
<a class=dropdown-item href=../../../community/external-add-ons/><span>External add-ons</span></a>
<a class=dropdown-item href=../../../community/compliant-terminals/><span>Compliant terminals</span></a>
<a class=dropdown-item href=../../../community/support-and-training-companies/><span>Support & training companies</span></a>
</div>
</li>
</ul>
</div>
<ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
<li class=nav-item>
<a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a>
</li>
</ul>
</div>
</nav>
<div class="container-fluid docs">
<div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 docs-sidebar">
<form class="docs-search d-flex align-items-center">
<button class="btn docs-toggle d-md-none p-0 mr-3" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation">
<span><i class="fas fa-bars"></i></span>
</button>
<input name=q type=search class=form-control placeholder=Search... autocomplete=off>
</form>
<nav class="collapse docs-links" id=docs-nav>
<ul class="nav docs-sidenav">
<li><a href=../../../learn/></a></li>
<div class=docs-toc-item>
<a class=docs-toc-link href=../../../learn/overview/>Overview</a>
<ul class="nav docs-sidenav">
<li><a href=../../../learn/overview/key-concepts/>Key concepts</a></li>
<li><a href=../../../learn/overview/architecture/>Architecture</a></li>
</ul>
</div>
<div class=docs-toc-item>
<a class=docs-toc-link href=../../../learn/build-your-first-app/>Build your first app</a>
<ul class="nav docs-sidenav">
<li><a href=../../../learn/build-your-first-app/java-app/>Java</a></li>
<li><a href=../../../learn/build-your-first-app/android-app/>Android</a></li>
<li><a href=../../../learn/build-your-first-app/cpp-app/>C++</a></li>
</ul>
</div>
<div class=docs-toc-item>
<a class=docs-toc-link href=../../../learn/developer-guide/>Developer guides</a>
<ul class="nav docs-sidenav">
<li class=active><a href=../../../learn/developer-guide/standalone-application/>Standalone application</a></li>
<li><a href=../../../learn/developer-guide/distributed-application/>Distributed application</a></li>
<li><a href=../../../learn/developer-guide/calypso-application/>Calypso application</a></li>
<li><a href=../../../learn/developer-guide/card-resource-service/>Card resource service</a></li>
<li><a href=../../../learn/developer-guide/create-a-reader-plugin/>Create a reader plugin</a></li>
<li><a href=../../../learn/developer-guide/create-a-card-extension/>Create a card extension</a></li>
</ul>
</div>
<div class=docs-toc-item>
<a class=docs-toc-link href=../../../learn/keyple-in-depth/>Keyple in depth</a>
<ul class="nav docs-sidenav">
<li><a href=../../../learn/keyple-in-depth/core-services/>Core services</a></li>
<li><a href=../../../learn/keyple-in-depth/calypso-card/>Calypso card extension</a></li>
<li><a href=../../../learn/keyple-in-depth/build-ci-process/>Build & CI</a></li>
</ul>
</div>
</ul>
</nav>
</div>
<div class="d-none d-xl-block col-xl-2 docs-toc">
<ul class="nav toc-top">
<li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li>
</ul>
<nav id=TableOfContents>
<ul>
<li><a href=#overview>Overview</a></li>
<li><a href=#before-you-start>Before you start</a></li>
<li><a href=#operating-mode>Operating mode</a></li>
<li><a href=#access-to-the-smart-card-service>Access to the smart card service</a></li>
<li><a href=#set-up-a-plugin>Set up a plugin</a>
<ul>
<li><a href=#access-to-a-plugin>Access to a plugin</a></li>
<li><a href=#configure-a-plugin>Configure a plugin</a></li>
<li><a href=#monitor-a-plugin>Monitor a plugin</a></li>
</ul>
</li>
<li><a href=#set-up-a-reader>Set up a reader</a>
<ul>
<li><a href=#access-to-a-reader>Access to a reader</a></li>
<li><a href=#configure-a-reader>Configure a reader</a></li>
<li><a href=#monitor-a-reader>Monitor a reader</a></li>
</ul>
</li>
<li><a href=#select-a-card>Select a card</a>
<ul>
<li><a href=#prepare-a-selection-scenario>Prepare a selection scenario</a></li>
<li><a href=#process-a-selection-scenario>Process a selection scenario</a></li>
<li><a href=#schedule-a-selection-scenario>Schedule a selection scenario</a></li>
</ul>
</li>
<li><a href=#perform-a-transaction>Perform a transaction</a></li>
<li><a href=#unregister-a-plugin>Unregister a plugin</a></li>
<li><a href=#api>API</a></li>
<li><a href=#examples>Examples</a></li>
<li><a href=#download>Download</a></li>
<li><a href=#observation-of-the-plugin>Observation of the plugin</a></li>
<li><a href=#readers-retrieval>Readers retrieval</a></li>
<li><a href=#reader-specific-settings>Reader specific settings</a></li>
<li><a href=#protocol-activationdeactivation>Protocol activation/deactivation</a></li>
<li><a href=#observation-of-the-reader>Observation of the reader</a></li>
<li><a href=#card-selection>Card selection</a></li>
<li><a href=#card-selection-and-reader-observation>Card selection and reader observation</a></li>
<li><a href=#card-selection-in-practice>Card selection in practice</a>
<ul>
<li><a href=#create-the-card-selection-manager>Create the card selection manager</a></li>
<li><a href=#prepare-and-add-the-selection-cases>Prepare and add the selection cases</a></li>
</ul>
</li>
<li><a href=#implementation-of-the-application-service>Implementation of the application service</a></li>
<li><a href=#stopping-the-application>Stopping the application</a></li>
<li><a href=#keyple-service-api>Keyple Service API</a></li>
<li><a href=#examples-1>Examples</a></li>
<li><a href=#explicit-selection>Explicit Selection</a></li>
<li><a href=#default-selection>Default Selection</a></li>
<li><a href=#sequential-multiple-selection>Sequential Multiple Selection</a></li>
<li><a href=#grouped-multiple-selection>Grouped Multiple Selection</a></li>
<li><a href=#demo-card-protocol-detection>Demo Card Protocol Detection</a></li>
<li><a href=#demo-observable-reader-notification>Demo Observable Reader Notification</a></li>
<li><a href=#download-1>Download</a></li>
</ul>
</nav>
</div>
<main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main>
<article class=article>
<div class=docs-article-container>
<h1>Standalone Application Developer Guide</h1>
<div class=article-style>
<hr>
<h2 id=overview>Overview</h2>
<p>A standalone application is an application that runs in a device in contact
with the end user.</p>
<p>It has at least one local smart card reader and manages itself the
interaction with the user.</p>
<p>The diagram below illustrates the organization of a standalone application based on Keyple:
<figure>
<a data-fancybox href=../../../media/learn/developer-guide/standalone-application/Local_Application_Components_Overview.svg>
<img src=../../../media/learn/developer-guide/standalone-application/Local_Application_Components_Overview.svg alt>
</a>
</figure>
</p>
<hr>
<h2 id=before-you-start>Before you start</h2>
<ol>
<li>If you are new to Keyple, read the
<a href=../../../learn/overview/key-concepts/>key concepts</a> page and familiarize yourself with the fundamentals behind Keyple.</li>
<li>Any implementation of a Keyple application starts with the
setting up of <strong>Keyple Service</strong>, please study the
<a href=#workflow>workflow</a> proposed in the following chapter.</li>
<li>Explore the
<a href=https://keyple.org/components-java/core/keyple-service-java-lib/>Keyple Service component page</a> to discover the features and the
possibilities offered by its API.</li>
<li>Take inspiration from the
<a href=#examples>examples</a>.</li>
<li>Follow the explanations given in the
<a href=https://keyple.org/learn/build-your-first-app/java-app/>Build your first app</a> section to configure your environment (Gradle / Maven).</li>
<li>Using the
<a href=https://keyple.org/components-java/>Java components</a> pages, import
<strong>Keyple Service</strong> and the optional add-ons into your project and start playing with <strong>Keyple</strong>.</li>
<li>Don&rsquo;t forget to explore the potential of Keyple card-specific
extensions such as
<a href=https://keyple.org/components-java/card-extensions/keyple-card-calypso-java-lib/><strong>Keyple Calypso</strong></a>.</li>
</ol>
<hr>
<h2 id=operating-mode>Operating mode</h2>
<p><strong>Keyple Service</strong> is built around the concepts described
<a href=../../../learn/overview/key-concepts/>here</a> and sometimes proposes several ways to perform
an action or to achieve a result depending on the needs of the
application.</p>
<p>The purpose of this section is to guide you in its use.</p>
<h2 id=access-to-the-smart-card-service>Access to the smart card service</h2>
<p>Invoke the <code>SmartCardServiceProvider.getService()</code> static method to access the service.</p>
<p>Its main role is to centralize the Keyple add-on resources and to manage their
life cycle.</p>
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('7',this)">Copy</button></div>
<pre><code class=language-java id=code-7>SmartCardService smartCardService = SmartCardServiceProvider.getService();</code></pre>
<hr>
<h2 id=set-up-a-plugin>Set up a plugin</h2>
<p>The Keyple application developer will choose the reader plugins he needs
according to the equipment on which the Keyple application will run.</p>
<p>For example, if the environment is PC-based, the PC/SC plugin will probably, but not necessarily, be chosen.
For an Andoid terminal environment, the plugin could be the standard
Android NFC plugin or one of the plugins available from the industrial
partners of the project.</p>
<p>For a complete list of available plugins, please see
the
<a href=https://keyple.org/components-java/standard-reader-plugins/>standard reader plugins</a>,
the
<a href=https://keyple.org/components-java/specific-reader-plugins/>specific reader plugins</a>
or one of our
<a href=https://keyple.org/community/external-add-ons/>partners reader plugins</a>.</p>
<div class="alert alert-note">
<div>
A new plugin can also be <a href=../../../learn/developer-guide/create-a-reader-plugin/>created</a> if there is no plugin for the intended hardware.
</div>
</div>
<h3 id=access-to-a-plugin>Access to a plugin</h3>
<p>To access a plugin at the application level, it must first be registered with the smart card service via the <code>registerPlugin(...)</code> method.
It will be necessary to provide an implementation of the <code>KeyplePluginExtensionFactory</code> interface.
This factory is provided by the API of the used plugin.</p>
<p>Depending on the capabilities of the hardware, the plugin factory may or may not offer specific configuration options.
Please refer to the API of the plugin component you are considering to see what is appropriate for your application.</p>
<p>The registration provides in return an implementation of one of the <code>Plugin</code>, <code>ObservablePlugin</code> or <code>PoolPlugin</code> interfaces depending on the type of target plugin.</p>
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('12',this)">Copy</button></div>
<pre><code class=language-java id=code-12>// Here is for example the registration of the PC/SC plugin
Plugin plugin = smartCardService.registerPlugin(PcscPluginFactoryBuilder.builder().build());</code></pre>
<h3 id=configure-a-plugin>Configure a plugin</h3>
<p>Some plugin types may offer specific options.</p>
<p>Static options are usually directly exposed by the plugin factory API while dynamic options are exposed by the plugin extension API.</p>
<p>To access the plugin extension it is necessary to invoke the <code>getExtension(...)</code> method on the registered <code>Plugin</code> by specifying the expected class of the extension.
After that, the dedicated methods are available from the resulting object.</p>
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('13',this)">Copy</button></div>
<pre><code class=language-java id=code-13>// Here is a snippet showing the usage of the extension of the Stub plugin (the procedure would be similar for another plugin/reader)
plugin
    .getExtension(StubPlugin.class)
    .unplugReader(&#34;READER_1&#34;);</code></pre>
<h3 id=monitor-a-plugin>Monitor a plugin</h3>
<div class="alert alert-warning">
<div>
The plugin monitoring only applies to hardware environments in which the readers are removable.
Moreover, only plugins of type <code>ObservablePlugin</code> can be monitored.
</div>
</div>
<p>The observation of reader connections and disconnections is achieved
through a background task managed by <strong>Keyple Service</strong>.</p>
<p>To enable these observation mechanisms, it is imperative to provide:</p>
<ul>
<li>a plugin observer implementing the <code>PluginObserverSpi</code> interface to be notified of plugin events,</li>
<li>an exception handler implementing the <code>PluginObservationExceptionHandlerSpi</code> interface to be notified of errors that may occur during the monitoring or events notifications.</li>
</ul>
<p>These two interfaces are available in the <code>org.eclipse.keyple.core.service.spi</code> package of the <strong>Keyple Service</strong> component.</p>
<p>Here is an example of a plugin observer class including an exception handler:</p>
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('15',this)">Copy</button></div>
<pre><code class=language-java id=code-15>// ...
import org.eclipse.keyple.core.service.spi.PluginObserverSpi;
import org.eclipse.keyple.core.service.spi.PluginObservationExceptionHandlerSpi;
// ...

class PluginObserver implements PluginObserverSpi, PluginObservationExceptionHandlerSpi {

    @Override
    public void onPluginEvent(PluginEvent event) {
        switch (event.getEventType()) {
            case READER_CONNECTED:
                // here the processing to be done when a reader is connected
                ...
                break;
            case READER_DISCONNECTED:
                // here the processing to be done when a reader is disconnected
                ...
                break;
            default:
                break;
        }
    }
    
    @Override
    public void onPluginObservationError(String pluginName, Throwable e) {
        // handle here the plugin exceptions raised while observing the readers
        ...
    }
}</code></pre>
<p>In order to access the dedicated setters, the plugin has to be casted as an <code>ObservablePlugin</code>.</p>
<p>Since adding an observer will cause the <strong>Keyple Service</strong> to check for the presence of an exception handler,
the definition of the exception handler must be done first.</p>
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('16',this)">Copy</button></div>
<pre><code class=language-java id=code-16>PluginObserver pluginObserver = new PluginObserver();
((ObservablePlugin) plugin).setPluginObservationExceptionHandler(pluginObserver);
((ObservablePlugin) plugin).addObserver(pluginObserver);</code></pre>
<div class="alert alert-note">
<div>
Note that the monitoring thread only works if there is at least one observer registered, and the notification process is sequential and synchronous.
</div>
</div>
<hr>
<h2 id=set-up-a-reader>Set up a reader</h2>
<h3 id=access-to-a-reader>Access to a reader</h3>
<h3 id=configure-a-reader>Configure a reader</h3>
<h3 id=monitor-a-reader>Monitor a reader</h3>
<hr>
<h2 id=select-a-card>Select a card</h2>
<h3 id=prepare-a-selection-scenario>Prepare a selection scenario</h3>
<h3 id=process-a-selection-scenario>Process a selection scenario</h3>
<h3 id=schedule-a-selection-scenario>Schedule a selection scenario</h3>
<hr>
<h2 id=perform-a-transaction>Perform a transaction</h2>
<hr>
<h2 id=unregister-a-plugin>Unregister a plugin</h2>
<hr>
<h2 id=api>API</h2>
<hr>
<h2 id=examples>Examples</h2>
<hr>
<h2 id=download>Download</h2>
<h2 id=observation-of-the-plugin>Observation of the plugin</h2>
<h2 id=readers-retrieval>Readers retrieval</h2>
<p>Readers are objects implementing the <code>Reader</code> interface and are
returned by the plugin&rsquo;s <code>getReader</code> method taking the name of the
reader as argument.</p>
<p>The names of the readers available from the plugin are returned as a
Set of strings by the <code>getReaderNames</code> method.</p>
<p>The <code>getReaders</code> method also allows you to get all the readers at once as a Set of <code>Reader</code> objects.</p>
<p>Here is an example to get the 1st PC/SC reader:</p>
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('18',this)">Copy</button></div>
<pre><code class=language-java id=code-18>String readerName = plugin.getReaderNames().get(0);
Reader reader = plugin.getReader(readerName);</code></pre>
<div class="alert alert-note">
<div>
Depending on the type of plugin, the reader names are
more or less dynamic (e.g. a PC/SC based system vs. an embedded
terminal), it is sometimes necessary to implement an identification
mechanism in order to assign the right reader to the right place in the
system (for example by using regular expressions).
</div>
</div>
<h2 id=reader-specific-settings>Reader specific settings</h2>
<p>Take a close look at the parameters proposed by the plugin and its readers.</p>
<p>Depending on the characteristics of the reader, it may be necessary to set some parameters in order to meet the application needs.</p>
<p>To access the reader&rsquo;s settings it is necessary to obtain its <strong>specific extension</strong> (this differs from one type of equipment to another).</p>
<p>To do this, we need to invoke the <code>getExtension</code> method by passing it the specific class in parameter.
After that, the dedicated methods are available from the resulting object.</p>
<p>Here is a snippet showing the procedure for a PC/SC reader (the procedure would be similar for another plugin/reader):
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('20',this)">Copy</button></div>
<pre><code class=language-java id=code-20>Reader reader = plugin.getReader(readerName);
// Configure the reader with parameters suitable for contactless operations.
reader
    .getExtension(PcscReader.class)
    .setContactless(true)
    .setIsoProtocol(PcscReader.IsoProtocol.T1);</code></pre></p>
<div class="alert alert-note">
<div>
Similarly, the plugin itself may or may not have parameters.<br>
When they exist, they are usually defined by a builder in its factory.<br>
Please refer to the documentation of the plugin you are using for more details on this topic.
</div>
</div>
<h2 id=protocol-activationdeactivation>Protocol activation/deactivation</h2>
<p>The <code>activateProtocol</code> and <code>deactivateProtocol</code> methods of the <code>ConfigurableReader</code> interface meet two needs:</p>
<ul>
<li>
<p>the use or not of a particular protocol at the lowest level of the RF layer of the reader.
In other words, these methods define which protocols the reader will use to search for cards.</p>
<p>This may be significant in terms of detection performance (latency) because when multiple protocols are implemented,
the readers search for cards for each protocol sequentially, for example by alternating ISO14443-A and ISO14443-B RF requests.</p>
<p>Note that some readers do not allow to select the types of protocols used, for example NFC smartphones.
It is nevertheless possible to invoke these methods for their second purpose described below.</p>
</li>
<li>
<p>the naming of a reader protocol for the application.
The idea is to associate a protocol name that will be referenced by the application independently of the reader type.
This name can be used as parameter of the selection process in order to target a particular product.</p>
</li>
</ul>
<p>Please refer to the API of these methods to learn more about them.</p>
<div class="alert alert-note">
<div>
Use of these methods may be optional if the reader&rsquo;s protocols are not configurable
or if the application does not intend to target products by this criterion.
</div>
</div>
<h2 id=observation-of-the-reader>Observation of the reader</h2>
<div class="alert alert-note">
<div>
Observation of the readers is optional in Keyple. It
facilitates an event-driven programming mode, but an application
developer can choose not to observe a reader, either because this reader
is not designed to manage card insertions/withdrawals (for example an
Android OMAPI reader or a SAM reader), or because the application is
designed to directly manage the presence of a card (see to <code>isCardPresent</code> method of the
<code>Reader</code> interface).
</div>
</div>
<p>The observation of inserting and removing cards from readers is similar to the observation of plugins.</p>
<p>The observation of card insertion and removal is achieved through a background task managed by <strong>Keyple Service</strong>.</p>
<p>The reader observer must implement the <code>CardReaderObserverSpi</code> interface,
the reader exception handler must implement the <code>CardReaderObservationExceptionHandlerSpi</code> interface.</p>
<p>These two interfaces are available in the spi package of the
<a href=../../../components-java/standards-compliance/calypsonet-apis/><strong>Calypsonet Terminal Reader Java API</strong></a>
to which <strong>Keyple Service</strong> conforms to perform these functions.</p>
<p>Here is an example of a reader observer class including an exception handler:
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('25',this)">Copy</button></div>
<pre><code class=language-java id=code-25>// ...
import org.calypsonet.terminal.reader.spi.CardReaderObserverSpi;
import org.calypsonet.terminal.reader.spi.CardReaderObservationExceptionHandlerSpi;
// ...

class ReaderObserver implements CardReaderObserverSpi, CardReaderObservationExceptionHandlerSpi {

    @Override
    public void onReaderEvent(CardReaderEvent event) {
        switch (event.getType()) {
            case CardReaderEvent.Type.CARD_INSERTED:
                // here the processing to be done when a card is inserted
                ...
                break;
            case CardReaderEvent.Type.CARD_REMOVED:
                // here the processing to be done when a card is removed
                ...
                break;
            default:
                break;
        }
    }
    
    @Override
    public void onReaderObservationError(String pluginName, String readerName, Throwable e) {
        //
        // handle here the reader exceptions raised while observing the cards
        //
    }
}</code></pre></p>
<p>The observation of the events of the reader is done in a similar way to
that of the plugin, by adding an observer:
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('26',this)">Copy</button></div>
<pre><code class=language-java id=code-26>ReaderObserver readerObserver = new ReaderObserver();
((ObservableReader) reader).setReaderObservationExceptionHandler(readerObserver);
((ObservableReader) reader).addObserver(readerObserver);</code></pre></p>
<h2 id=card-selection>Card selection</h2>
<p>The Keyple card selection process is generic, allowing the management of cards of different types
or technologies within the same application.</p>
<p>It is based on the universal selection interface defined by the
<a href=../../../components-java/standards-compliance/calypsonet-apis/><strong>Calypsonet Terminal Reader Java API</strong></a>.</p>
<p>A <code>CardSelectionManager</code> is obtained from the Keyple <code>SmartCardService</code>
using the <code>createCardSelectionManager</code> method.</p>
<p>It allows the addition of &ldquo;selection cases&rdquo; corresponding to an expected target card.</p>
<p>These selection cases are represented by objects implementing the <strong>Calypsonet Terminal Reader Java API</strong>
interface <code>CardSelection</code>; these objects should be provided by a Keyple Card Extension add-on.</p>
<p>Providing one or more selection cases to the <code>CardSelectionManager</code> constitutes a <em>selection scenario</em>.
The scenario is run by <strong>Keyple Service</strong> when a card is detected, the different cases being evaluated
sequentially as long as the card does not match the criteria of the defined cases.</p>
<p>The selection process for a case offers several options for selecting a processing based on the type of card presented to the reader.</p>
<p>It is based on a filtering process according to three possible criteria,
each of which is optional:</p>
<ul>
<li>the communication protocol of the card (usually also identifying a
card technology)</li>
<li>the power-on data collected by the reader when the card is detected (e.g. the Answer To Reset)</li>
<li>the ISO standard application identifier (AID) used to perform a Select Application command.</li>
</ul>
<p>When a card is inserted, it is evaluated according to these criteria and
will be given the status &ldquo;selected&rdquo; or not.</p>
<p>When a card is not selected, no other operation will be possible with it.</p>
<p>Depending on the chosen setting (see <code>setMultipleSelectionMode</code>), the result of the selection will or will not
be made available to the application.
It is thus possible to directly ignore cards that do not correspond to the defined selection criteria.</p>
<p>When a card is selected, the <code>CardSelectionManager</code> will make available the result
as a <code>SmartCard</code> object containing all the information known about the card at that stage.</p>
<p>Depending on the card extension that is used, this <code>SmartCard</code> object can be casted into a more
comprehensive object with specific features defined by the extension.</p>
<p>In addition to the selection process itself, specific APDU commands may be sent to the card if the selection is successful.
The output of these commands is available in the instance of the <code>SmartCard</code> object or its derivative.</p>
<h2 id=card-selection-and-reader-observation>Card selection and reader observation</h2>
<p>The <code>CardSelectionManager</code> performs card selection in two steps:</p>
<ul>
<li>a first step of preparing the selection scenario,</li>
<li>a second step of running the prepared scenario.</li>
</ul>
<p>The first step is done by invoking the <code>prepareSelection</code> method with a <code>CardSelection</code> object defining
a selection profile as argument. This is to be repeated as many times as there are selection cases.</p>
<p>The second step, the scenario execution, can be done in two ways:</p>
<ul>
<li>by directly executing the scenario with <code>processCardSelectionScenario</code> when the presence of the card is managed
by the application,</li>
<li>by feeding the observation mechanism with the scenario by invoking the <code>scheduleCardSelectionScenario</code> when
the reader is observed.</li>
</ul>
<p>In the first case, the result obtained directly in <code>CardSelectionResult</code> in return of
<code>processCardSelectionScenario</code>.</p>
<p>In the latter case, the result is passed to the application in the <code>ScheduledCardSelectionsResponse</code> field of
<code>ReaderEvent</code> and is to be retrieved using <code>parseScheduledCardSelectionsResponse</code>.</p>
<p>Note that the scheduling of the execution of a scenario includes two options:</p>
<ul>
<li>the <code>DetectionMode</code> defining the expected behavior regarding the card detection allowing to automatically restart it or not.</li>
<li>the <code>NotificationMode</code> allowing to choose if only the cards matching the selection (successfully selected) should trigger an event.</li>
</ul>
<h2 id=card-selection-in-practice>Card selection in practice</h2>
<p>In this chapter we will show step by step how to use the selection service with the generic card extension.</p>
<h3 id=create-the-card-selection-manager>Create the card selection manager</h3>
<p>The card selection manager will be used all along the card selection process.</p>
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('28',this)">Copy</button></div>
<pre><code class=language-java id=code-28>// Get the core card selection manager.
CardSelectionManager cardSelectionManager = smartCardService.createCardSelectionManager();```</code></pre>
<h3 id=prepare-and-add-the-selection-cases>Prepare and add the selection cases</h3>
<p>The application can create as many selection cases as the type of cards
expected. The order in which the selection cases are prepared is
important because it will favor the latency delay for the processing of
the cards corresponding to the first case. It is therefore recommended
to place the most common card profile in the application context first.</p>
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('29',this)">Copy</button></div>
<pre><code class=language-java id=code-29>// prepare a selection for application 1
cardSelectionManager.prepareSelection(
    GenericExtensionService.getInstance()
        .createCardSelection()
        .filterByDfName(AID1));

// prepare a selection for application 2
cardSelectionManager.prepareSelection(
    GenericExtensionService.getInstance()
        .createCardSelection()
        .filterByDfName(AID2));</code></pre>
<h4 id=proceed-to-the-selection-with-a-non-observable-reader>Proceed to the selection with a non-observable reader</h4>
<p>The <code>processCardSelectionScenario</code> method of <code>CardSelectionManager</code> performs the actual
communication with the card.
<div class=bd-clipboard><button type=button class="btn btn-clipboard btn-outline-light" title="Copy to clipboard" onclick="copyCodeContentToClipboard('30',this)">Copy</button></div>
<pre><code class=language-java id=code-30>// Actual card communication: run the selection scenario.
CardSelectionResult selectionResult = cardSelectionManager.processCardSelectionScenario(reader);

// Check the selection result.
if (selectionResult.getActiveSmartCard() == null) {
  throw new IllegalStateException(&#34;The selection of the card failed.&#34;);
}

// Get the SmartCard resulting of the selection.
SmartCard smartCard = selectionResult.getActiveSmartCard();</code></pre></p>
<h4 id=proceed-to-the-selection-with-an-observable-reader>Proceed to the selection with an observable reader</h4>
<p>In the case of an observable reader, the prepared request is provided
to the reader (it is then named Default Selection) and will be processed
automatically as soon as a card is presented. The application is then
notified of the event with the data resulting from the selection.
Depending on the selection settings, the application will be notified of
all card presentations (<code>CARD_INSERTED</code> event) or only those
presentations that led to a successful selection (<code>CARD_MATCHED</code>
event).</p>
<h5 id=add-a-default-selection>Add a default selection</h5>
<pre><code class=language-java>// Provide the Reader with the selection operation to be processed when a card is inserted.
((ObservableReader) reader)
        .setDefaultSelectionRequest(
        cardSelectionService.getDefaultSelection().getDefaultSelectionsRequest(),
        ObservableReader.NotificationMode.MATCHED_ONLY,
        ObservableReader.PollingMode.REPEATING);
</code></pre>
<p>The <code>NotificationMode</code> allows you to specify whether all card
insertions should be reported to the application or only those that led
to a successful selection.</p>
<p><code>PollingMode</code> indicates whether to go back to waiting for the card
after processing (<code>REPEATING</code>) or let the application decide when to
restart the search (<code>SINGLESHOT</code>) with <code>startCardDetection</code>.</p>
<p>Note: when the default selection is set with the <code>PollingMode</code>
parameter, the card detection is started automatically. However, it is
possible to set a default selection without automatic start and by
starting the detection independently with <code>startCardDetection</code>.</p>
<h5 id=receive-the-result-as-an-event>Receive the result as an event</h5>
<pre><code class=language-java>...
@Override
public void update(ReaderEvent event) {
        switch (event.getEventType()) {
        case CARD_MATCHED:
        AbstractSmartCard selectedCard = null;
        try {
        selectedCard =
        getDefaultSelection()
        .processDefaultSelectionsResponse(event.getDefaultSelectionsResponse())
        .getActiveSmartCard();
        } catch (KeypleException e) {
        logger.error(&quot;Exception: {}&quot;, e.getMessage());
        ((ObservableReader) (event.getReader())).finalizeCardProcessing();
        }

        if (selectedCard != null) {
        logger.info(&quot;Observer notification: the selection of the card has succeeded.&quot;);
        // insert the processing of the card here
        ...
        logger.info(&quot;= #### End of the card processing.&quot;);
        } else {
        logger.error(
        &quot;The selection of the card has failed. Should not have occurred due to the MATCHED_ONLY selection mode.&quot;);
        }
        break;
        case CARD_INSERTED:
        logger.error(
        &quot;CARD_INSERTED event: should not have occurred due to the MATCHED_ONLY selection mode.&quot;);
        break;
        case CARD_REMOVED:
        logger.trace(&quot;There is no PO inserted anymore. Return to the waiting state...&quot;);
        break;
default:
        break;
        }
        if (event.getEventType() == ReaderEvent.EventType.CARD_INSERTED
        || event.getEventType() == ReaderEvent.EventType.CARD_MATCHED) {
        // Informs the underlying layer of the end of the card processing, in order to manage the
        // removal sequence.
        ((ObservableReader) (event.getReader())).finalizeCardProcessing();
        }
        }
        ...
</code></pre>
<h4 id=get-the-selection-result>Get the selection result</h4>
<p>The result of the selection is available in the <code>AbstractSmartCard</code>
object.</p>
<pre><code class=language-java>...
        if (!cardSelectionsResult.hasActiveSelection()) {
        logger.warn(&quot;The selection of the application &quot; + cardAid + &quot; failed.&quot;);
        }
        AbstractSmartCard smartCard = cardSelectionsResult.getActiveSmartCard();
        logger.info(&quot;The selection of the card has succeeded.&quot;);

        if (smartCard.hasFci()) {
        String fci = ByteArrayUtil.toHex(smartCard.getFciBytes());
        logger.info(&quot;Application FCI = {}&quot;, fci);
        }
        if (smartCard.hasAtr()) {
        String atr = ByteArrayUtil.toHex(smartCard.getAtrBytes());
        logger.info(&quot;Card ATR = {}&quot;, atr);
        }
        ...
</code></pre>
<h2 id=implementation-of-the-application-service>Implementation of the application service</h2>
<p>The applicative processing of the card that follows the selection of the
card is to be inserted in the processing of the <code>CARD_INSERTED</code> or
<code>CARD_MATCHED</code> event.</p>
<p>It can be processed in the thread provided by the monitoring task or
detached in a separate thread. The application developer must pay
attention to the handling of exceptions in this part of the application.
Indeed, in case of a runtime exception, the information will be given to
the application via the exception handler configured beforehand.</p>
<h2 id=stopping-the-application>Stopping the application</h2>
<p>The clean shutdown of a Keyple application requires the release of
resources and in particular the shutdown of the observation threads.</p>
<p>This is done by unregistering the plugins in the following way:</p>
<pre><code class=language-java>smartCardService.unregisterPlugin(plugin.getName());
</code></pre>
<hr>
<h2 id=keyple-service-api>Keyple Service API</h2>
<p>To learn all the details of the <strong>Keyple Service</strong> API, please consult the
<a href=https://keyple.org/docs-1.0/api-reference/>Javadoc documentation</a>.</p>
<p>However, here are two diagrams showing the main features of <strong>Keyple Service</strong>:</p>
<ul>
<li>
<p>The diagram below represents the main classes implemented around the
<strong>Smart Card Service</strong> with in particular the observation mechanisms.
<figure>
<a data-fancybox href=../../../media/archive-1.0/architecture/KeypleCore_Reader_ClassDiag_PluginSettingAndReaderAccess_1_0_0.svg>
<img src=../../../media/archive-1.0/architecture/KeypleCore_Reader_ClassDiag_PluginSettingAndReaderAccess_1_0_0.svg alt>
</a>
</figure>
</p>
</li>
<li>
<p>The diagram below represents the main classes used for selection
operations.
<figure>
<a data-fancybox href=../../../media/archive-1.0/architecture/KeypleCore_CardSelection_ClassDiag_SelectorAndSelection_1_0_0.svg>
<img src=../../../media/archive-1.0/architecture/KeypleCore_CardSelection_ClassDiag_SelectorAndSelection_1_0_0.svg alt>
</a>
</figure>
</p>
</li>
</ul>
<hr>
<h2 id=examples-1>Examples</h2>
<p>To help in the implementation of the different facilities offered by
Keyple to process smart cards, a set of examples is present in the
project repository
<a href=https://github.com/eclipse/keyple-java/tree/master/java/example/generic/standalone target=_blank rel=noopener>
<i class="fab fa-github pr-1 fa-fw"></i> examples</a></p>
<p>Nevertheless, you will find below a brief description of them:</p>
<h2 id=explicit-selection>Explicit Selection</h2>
<p>Shows the use of Keyple to make a card selection without observing the
reader, based on testing the presence of the card by the application.</p>
<p>
<a href=https://github.com/eclipse/keyple-java/blob/master/java/example/generic/standalone/src/main/java/org/eclipse/keyple/example/generic/centralized/UseCase1_ExplicitSelectionAid target=_blank rel=noopener>see the code</a></p>
<h2 id=default-selection>Default Selection</h2>
<p>Shows the use of Keyple to make a card selection with observation of the
reader. A default selection is prepared, the presentation of a card
triggers the notification of a reader event to the application.</p>
<p>
<a href=https://github.com/eclipse/keyple-java/tree/master/java/example/generic/standalone/src/main/java/org/eclipse/keyple/example/generic/centralized/UseCase2_DefaultSelectionNotification target=_blank rel=noopener>see the code</a></p>
<h2 id=sequential-multiple-selection>Sequential Multiple Selection</h2>
<p>Executes successively several independent selection operations with the
use of the ISO &lsquo;NEXT&rsquo; navigation flag.</p>
<p>
<a href=https://github.com/eclipse/keyple-java/tree/master/java/example/generic/standalone/src/main/java/org/eclipse/keyple/example/generic/centralized/UseCase3_SequentialMultiSelection target=_blank rel=noopener>see the code</a></p>
<p>Illustrates the case of a card exploration with maintenance of the physical channel open.</p>
<h2 id=grouped-multiple-selection>Grouped Multiple Selection</h2>
<p>Executes a multiple selection with logical channel closure between each
selection.</p>
<p>Allows the exploration of the applications of a card in a single
operation but without selection at the end.</p>
<p>
<a href=https://github.com/eclipse/keyple-java/blob/master/java/example/generic/standalone/src/main/java/org/eclipse/keyple/example/generic/centralized/UseCase4_GroupedMultiSelection target=_blank rel=noopener>see the code</a></p>
<h2 id=demo-card-protocol-detection>Demo Card Protocol Detection</h2>
<p>Demonstrates the use of Keyple in a context where several card
technologies are likely to be processed by the application.</p>
<p>
<a href=https://github.com/eclipse/keyple-java/tree/master/java/example/generic/standalone/src/main/java/org/eclipse/keyple/example/generic/centralized/Demo_CardProtocolDetection target=_blank rel=noopener>see the code</a></p>
<h2 id=demo-observable-reader-notification>Demo Observable Reader Notification</h2>
<p>Demonstrates the use of Keyple to implement the observation of a plugin
and its readers. Readers are dynamically created and an observer is
assigned to them.</p>
<p>
<a href=https://github.com/eclipse/keyple-java/tree/master/java/example/generic/standalone/src/main/java/org/eclipse/keyple/example/generic/centralized/Demo_ObservableReaderNotification target=_blank rel=noopener>see the code</a></p>
<hr>
<h2 id=download-1>Download</h2>
</div>
<div class=article-widget>
<div class=post-nav>
<div class=post-nav-item>
<div class=meta-nav>Next</div>
<a href=../../../learn/developer-guide/distributed-application/ rel=prev>Distributed Application Developer Guide</a>
</div>
</div>
</div>
</div>
<div class=body-footer>
<p>Last updated on Wed, Sep 29, 2021</p>
</div>
</article>
<footer class=site-footer>
<div class=container>
<div class="row featurette">
<div class="col-12 col-sm-4">
<h4>More</h4>
<ul>
<li><a href=https://github.com/eclipse/keyple title="View Source Code on GitHub"><i class="fab fa-github"></i> GitHub Repository</a></li>
<li><a href=https://accounts.eclipse.org/mailing-list/keyple-dev title="Keyple information and discussions"><i class="fas fa-envelope"></i> Mailing list</a></li>
<li><a href=https://projects.eclipse.org/projects/iot.keyple title=https://projects.eclipse.org/projects/iot.keyple><i class="fas fa-globe"></i> Keyple's project page</a></li>
</ul>
</div>
<div class="col-12 col-sm-4">
<h4>Eclipse Foundation</h4>
<ul>
<li><a href=https://www.eclipse.org/org/>About Eclipse Foundation</a></li>
<li><a href=https://www.eclipse.org/org/foundation/contact.php>Contact Eclipse Foundation</a></li>
<li><a href=https://www.eclipse.org/donate>Donate</a></li>
<li><a href=https://www.eclipse.org/membership>Members</a></li>
<li><a href=https://www.eclipse.org/org/documents/>Governance</a></li>
<li><a href=https://www.eclipse.org/org/documents/Community_Code_of_Conduct.php>Code of Conduct</a></li>
<li><a href=https://www.eclipse.org/artwork/>Logo and Artwork</a></li>
<li><a href=https://www.eclipse.org/org/foundation/directors.php></a></li>
</ul>
</div>
<div class="col-12 col-sm-4">
<h4>Legal</h4>
<ul>
<li><a href=https://www.eclipse.org/legal/privacy.php>Privacy Policy</a></li>
<li><a href=https://www.eclipse.org/legal/termsofuse.php>Terms of Use</a></li>
<li><a href=https://www.eclipse.org/legal/copyright.php>Copyright Agent</a></li>
<li><a href=https://www.eclipse.org/legal/epl-2.0/>Eclipse Public License</a></li>
<li><a href=https://www.eclipse.org/legal/>Legal Resources </a></li>
<li><a href=https://eclipse.org/security/ target=_blank>Report a Vulnerability </a></li>
</ul>
</section>
</div>
</div>
<p class=powered-by>
Copyright © Eclipse Foundation, Inc. All Rights Reserved.
</p>
<p class=powered-by>
Powered by the
<a href=https://wowchemy.com/ target=_blank rel=noopener>Wowchemy theme</a>
for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.
<span class=float-right aria-hidden=true>
<a href=# class=back-to-top>
<span class=button_icon>
<i class="fas fa-chevron-up fa-2x"></i>
</span>
</a>
</span>
</p>
</footer>
</main>
</div>
</div>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js integrity="sha512-7t8APmYpzEsZP7CYoA7RfMPV9Bb+PJHa9x2WiUnDXZx3XHveuyWUtvNOexhkierl5flZ3tr92dP1mMS+SGlD+A==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/java.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/groovy.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/xml.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/kotlin.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/cpp.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/gradle.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/ini.min.js></script>
<script>const code_highlighting=!0</script>
<script>const search_config={indexURI:"/index.json",minLength:1,threshold:.3},i18n={no_results:"No results found",placeholder:"Search...",results:"results found"},content_type={post:"Posts",project:"Projects",publication:"Publications",talk:"Talks",slides:"Slides"}</script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin=anonymous></script>
<script>anchors.add()</script>
<script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script>
<script src=../../../js/academic.min.b53776f33e8073247831b676ef46c015.js></script>
<link rel=stylesheet href=https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css>
<script src=https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js></script>
<script src=https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js></script>
<div id=modal class="modal fade" role=dialog>
<div class=modal-dialog>
<div class=modal-content>
<div class=modal-header>
<h5 class=modal-title>Cite</h5>
<button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span>
</button>
</div>
<div class=modal-body>
<pre><code class="tex hljs"></code></pre>
</div>
<div class=modal-footer>
<a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank>
<i class="fas fa-copy"></i> Copy
</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank>
<i class="fas fa-download"></i> Download
</a>
<div id=modal-error></div>
</div>
</div>
</div>
</div>
</body>
</html>